tinymce.PluginManager.add("xenquoteme",function(n){function o(){var f=this,r;t.trigger("click"),f.active(t.hasClass("on")),u.firstInit&&f.active()&&(r=e.getPhrase("quoteme_alert"),alert.length&&n.windowManager.alert(r),u.firstInit=!1)}function f(){var u=this,r=function(){u.active(t.hasClass("on"));var i={skip_focus:!0};n.execCommand("resetFright",!1,!1,i)};t.click(function(){r()})}var e=xenMCE.Lib.getTools(),i="quoteme",t=$("#toggleMeMenu"),u=this,r;if(n.buttons.quoteme=!1,!t.length||t.is(":hidden"))return!1;u.firstInit=!0,r={name:i,icon:i,onclick:o,onPostRender:f,xenfright:!0},n.addButton(i,r),n.addMenuItem(i,$.extend({},r,{text:"Fast quotes",xenfright:!1,onPostRender:function(r){var u=this;$.extend(r.control.settings,n.buttons[i]),$.extend(u,{extBtnState:f}),u.active(t.hasClass("on"));u.parent().on("show",function(){u.extBtnState(r)})}}))});